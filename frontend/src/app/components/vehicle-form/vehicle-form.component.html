<div *ngIf="isEditMode && vehicleDetails" class="vehicle-details">
  <h2>Detalhes do {{ vehicleDetails.modelo }}</h2>
  <p><strong>Placa:</strong> {{ vehicleDetails.placa }}</p>
  <p><strong>Chassi:</strong> {{ vehicleDetails.chassi }}</p>
  <p><strong>Renavam:</strong> {{ vehicleDetails.renavam }}</p>
  <p><strong>Marca:</strong> {{ vehicleDetails.marca }}</p>
  <p><strong>Ano:</strong> {{ vehicleDetails.ano }}</p>
  <p><strong>Criado em:</strong> {{ vehicleDetails.createdAt | date }}</p>
  <p *ngIf="vehicleDetails.updatedAt">
    <strong>Atualizado em:</strong> {{ vehicleDetails.updatedAt | date }}
  </p>
</div>

<div class="form-container">
  <h2>{{ isEditMode ? 'Editar Veículo' : 'Criar Veículo' }} </h2>
  <form [formGroup]="vehicleForm" (ngSubmit)="saveVehicle()">
    <div class="form-group">
      <label>Placa</label>
      <input formControlName="placa" />
      <div *ngIf="vehicleForm.get('placa')?.touched && vehicleForm.get('placa')?.invalid">
        <small *ngIf="vehicleForm.get('placa')?.errors?.['required']">Placa é obrigatória.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Chassi</label>
      <input formControlName="chassi" />
      <div *ngIf="vehicleForm.get('chassi')?.touched && vehicleForm.get('chassi')?.invalid">
        <small *ngIf="vehicleForm.get('chassi')?.errors?.['required']">Chassi é obrigatório.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Renavam</label>
      <input formControlName="renavam" />
      <div *ngIf="vehicleForm.get('renavam')?.touched && vehicleForm.get('renavam')?.invalid">
        <small *ngIf="vehicleForm.get('renavam')?.errors?.['required']">Renavam é obrigatório.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Modelo</label>
      <input formControlName="modelo" />
      <div *ngIf="vehicleForm.get('modelo')?.touched && vehicleForm.get('modelo')?.invalid">
        <small *ngIf="vehicleForm.get('modelo')?.errors?.['required']">Modelo é obrigatório.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Marca</label>
      <input formControlName="marca" />
      <div *ngIf="vehicleForm.get('marca')?.touched && vehicleForm.get('marca')?.invalid">
        <small *ngIf="vehicleForm.get('marca')?.errors?.['required']">Marca é obrigatória.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Ano</label>
      <input type="number" formControlName="ano" />
      <div *ngIf="vehicleForm.get('ano')?.touched && vehicleForm.get('ano')?.invalid">
        <small *ngIf="vehicleForm.get('ano')?.errors?.['required']">Ano é obrigatório.</small>
        <small *ngIf="vehicleForm.get('ano')?.errors?.['min']">Ano mínimo é 1900.</small>
        <small *ngIf="vehicleForm.get('ano')?.errors?.['max']">Ano máximo é o ano atual.</small>
      </div>
    </div>

    <button type="submit" class="submit-button">{{ isEditMode ? 'Atualizar' : 'Adicionar' }}</button>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
  </form>
</div>
